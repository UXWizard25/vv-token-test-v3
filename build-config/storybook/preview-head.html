<!--
  BILD Design System - Storybook Preview Head

  1. CSS Bundles (Dual-Axis Architecture):
     - bild.css: BILD colors + BILD content tokens
     - sportbild.css: SportBILD colors + SportBILD content tokens
     - advertorial.css: Advertorial content tokens only (uses parent color brand)

  2. Stencil Components:
     - Loaded via ESM module for custom element registration

  IMPORTANT: All data attributes are set on document.documentElement (html element)
  because CSS selectors require all attributes on the same element:
  [data-color-brand="bild"][data-theme="light"] { ... }
-->

<!-- Design Token CSS Bundles (relative paths for GitHub Pages compatibility) -->
<link rel="stylesheet" href="./css/bundles/bild.css" />
<link rel="stylesheet" href="./css/bundles/sportbild.css" />
<link rel="stylesheet" href="./css/bundles/advertorial.css" />

<!-- Stencil Web Components -->
<script type="module" src="./stencil/bds/bds.esm.js"></script>

<style>
  /* Ensure Storybook canvas uses design system tokens */
  body {
    font-family: var(--font-family-gotham, system-ui, -apple-system, sans-serif);
    background-color: var(--surface-color-canvas, #F0F2F4);
    color: var(--text-color-primary, #232629);
    margin: 0;
  }

  /* Story wrapper inherits tokens from html element's data attributes */
  .sb-show-main {
    background-color: transparent;
  }

  /* ========================================
     Storybook Docs Theme Overrides
     These ensure the docs pages adapt to dark mode
     ======================================== */

  /* Docs page wrapper */
  .sbdocs-wrapper {
    background-color: var(--surface-color-canvas, #F0F2F4) !important;
  }

  /* Docs content area */
  .sbdocs-content {
    background-color: var(--surface-color-primary, #FFFFFF) !important;
    color: var(--text-color-primary, #232629) !important;
  }

  /* Docs preview/story containers */
  .docs-story,
  .sbdocs-preview {
    background-color: var(--surface-color-primary, #FFFFFF) !important;
    border-color: var(--border-color-low-contrast, #CED4DA) !important;
  }

  /* MDX content typography */
  .sbdocs h1, .sbdocs h2, .sbdocs h3, .sbdocs h4, .sbdocs h5, .sbdocs h6,
  .sbdocs-h1, .sbdocs-h2, .sbdocs-h3, .sbdocs-h4, .sbdocs-h5, .sbdocs-h6 {
    color: var(--text-color-primary, #232629) !important;
  }

  .sbdocs p, .sbdocs li, .sbdocs td, .sbdocs th,
  .sbdocs-p {
    color: var(--text-color-primary, #232629) !important;
  }

  /* Code blocks */
  .sbdocs code,
  .sbdocs pre {
    background-color: var(--surface-color-tertiary, #E8EAED) !important;
    color: var(--text-color-primary, #232629) !important;
  }

  /* Tables */
  .sbdocs table {
    border-color: var(--border-color-low-contrast, #CED4DA) !important;
  }

  .sbdocs th {
    background-color: var(--surface-color-secondary, #F2F4F5) !important;
  }

  .sbdocs td, .sbdocs th {
    border-color: var(--border-color-low-contrast, #CED4DA) !important;
  }

  /* Links */
  .sbdocs a {
    color: var(--text-color-accent, #DD0000) !important;
  }

  /* Horizontal rules */
  .sbdocs hr {
    border-color: var(--border-color-low-contrast, #CED4DA) !important;
  }

  /* Blockquotes */
  .sbdocs blockquote {
    background-color: var(--surface-color-secondary, #F2F4F5) !important;
    border-left-color: var(--core-color-primary, #DD0000) !important;
    color: var(--text-color-primary, #232629) !important;
  }

  /* ArgTypes/Controls tables */
  .docblock-argstable {
    background-color: var(--surface-color-primary, #FFFFFF) !important;
  }

  .docblock-argstable th,
  .docblock-argstable td {
    background-color: var(--surface-color-primary, #FFFFFF) !important;
    border-color: var(--border-color-low-contrast, #CED4DA) !important;
    color: var(--text-color-primary, #232629) !important;
  }
</style>

<script>
  // Set initial data attributes on documentElement (html) for CSS token inheritance
  // All attributes must be on the same element for CSS selectors to match:
  // [data-color-brand="bild"][data-theme="light"] { ... }
  (function() {
    var html = document.documentElement;
    html.setAttribute('data-color-brand', 'bild');
    html.setAttribute('data-content-brand', 'bild');
    html.setAttribute('data-theme', 'light');
    html.setAttribute('data-density', 'default');
  })();
</script>
